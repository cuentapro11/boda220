<!DOCTYPE html>
<html lang="es">
<head>
    <script>
    // Unconditional one-time HTML bust to force fresh index fetch
    (function(){
      try {
        if (!/[?&]__html_bust=/.test(location.search)) {
          var u = new URL(location.href);
          u.searchParams.set('__html_bust', Date.now().toString());
          location.replace(u.toString());
        }
      } catch(e) {}
    })();
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-store, no-cache, must-revalidate, max-age=0">
    <meta name="x-build" content="force-14">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <script>
    // Unregister SW and hard-reload with a unique param to bypass stale caches
    (function(){
      try {
        var hasBypass = /[?&]__bypass=/.test(location.search);
        if (!hasBypass && 'serviceWorker' in navigator) {
          navigator.serviceWorker.getRegistrations().then(function(regs){
            if (regs && regs.length) {
              regs.forEach(function(r){ r.unregister(); });
              var u = new URL(location.href);
              u.searchParams.set('__bypass', Date.now().toString());
              location.replace(u.toString());
            }
          }).catch(function(){});
        }
      } catch(e) {}
    })();
    </script>
    <script>
    (function() {
        try {
            var ts = Date.now().toString();
            var links = Array.prototype.slice.call(document.querySelectorAll('link[rel="stylesheet"][href]'));
            links.forEach(function(link){
                var href = link.getAttribute('href');
                if (!href) return;
                href = href.replace(/([?&])v=[^&]*/,'').split('#')[0];
                link.setAttribute('href', href + (href.indexOf('?')>-1?'&':'?') + 't=' + ts);
            });
            var scripts = Array.prototype.slice.call(document.querySelectorAll('script[src]'));
            scripts.forEach(function(scr){
                var src = scr.getAttribute('src');
                if (!src) return;
                src = src.replace(/([?&])v=[^&]*/,'').split('#')[0];
                scr.setAttribute('src', src + (src.indexOf('?')>-1?'&':'?') + 't=' + ts);
            });
        } catch(e) {}
    })();
    </script>
    <title>Rafael & Juana - Invitaci√≥n de Boda</title>
    <link rel="preload" as="image" href="https://i.ibb.co/4wBH7S3R/0ea4ea193a4f-dosmasenlamesa-2-z.jpg">
    <link rel="stylesheet" href="CCSB.css?v=20">
    <script src="https://cdn.lordicon.com/lordicon.js"></script>
    <style>
        /* Carrusel: 3 im√°genes simult√°neamente con foto central destacada */
        .carousel-track-container {
            overflow: hidden;
            width: 100%;
            position: relative;
        }
        .carousel-track {
            display: flex;
            transition: transform 0.5s ease;
            width: 100%;
            overflow: visible;
        }
        .carousel-item {
            flex: 0 0 33.333%; /* 3 im√°genes por fila en PC */
            box-sizing: border-box;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 0; /* usamos gap del track para separaci√≥n */
        }
        .carousel-item img {
            max-width: 100%;
            height: 100% !important;
            object-fit: cover;
            border-radius: 0;
            box-shadow: 0 10px 24px rgba(0,0,0,0.18);
            transition: transform 0.25s ease, box-shadow 0.25s ease;
        }

        /* Hacer las fotos visualmente menos anchas manteniendo 3 por fila */
        .framed-photo {
            width: 90% !important;
            height: 100% !important;
            margin: 0 auto;
            object-fit: cover !important;
            background: #8B5E3C !important;
            border: 10px solid #1F1F1F !important;
            border-bottom-width: 38px !important;
        }

        @media (min-width: 769px) {
            .carousel-item.is-center .framed-photo {
                transform: scale(1.12) rotate(-0.2deg);
                box-shadow: 0 34px 68px rgba(0,0,0,0.4);
            }
        }
        
        /* Mobile: una imagen centrada */
        @media (max-width: 768px) {
            .carousel-item {
                flex: 0 0 100% !important; /* 1 imagen por vista en m√≥vil */
                padding: 0 8px !important;
                height: 320px !important;
                display: flex !important;
                justify-content: center !important;
                align-items: center !important;
            }
            .carousel-item img {
                width: 100% !important;
                height: 100% !important;
                max-height: 320px !important;
                object-fit: cover !important;
                transform: none !important;
            }
            
            .carousel-track-container {
                height: auto !important;
            }
        }
        
        @media (max-width: 480px) {
            .carousel-item img {
                max-height: 260px !important;
                height: 240px !important;
                width: auto !important;
                max-width: 95% !important;
                object-fit: cover !important;
                border-radius: 0;
                transform: none !important;
            }
            
            .carousel-item {
                flex: 0 0 100% !important;
                padding: 0 8px !important;
                height: auto !important;
            }
            
            .carousel-track-container {
                height: auto !important;
            }
        }
        .carousel-container {
            position: relative;
            width: 100%;
            max-width: 800px;
            margin: 0 auto;
        }
        .carousel-btn {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: #fff;
            border: none;
            font-size: 2rem;
            cursor: pointer;
            z-index: 2;
            padding: 0 10px;
            border-radius: 50%;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
        }

        /* Ajuste temporal: mantener altura visible sin tocar el attachment */
        @media (min-width: 1025px) {
            .hero-section {
                min-height: 100vh !important;
                height: auto !important;
                background-image: url('https://i.ibb.co/4wBH7S3R/0ea4ea193a4f-dosmasenlamesa-2-z.jpg') !important;
            }
        }

    </style>
</head>
<body>
    <div class="main-center">
        <!-- Modal de Bienvenida -->
        <div id="welcomeModal" class="modal-overlay">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 class="modal-title">Invitaci√≥n de Boda</h2>
                    <h3 class="modal-names">Rafael <span class="ampersand">&</span> Juana</h3>
                    <p class="modal-subtitle">Bienvenido a nuestra celebraci√≥n</p>
                    <div class="modal-icon modern-icon">
                        <svg width="32" height="32" viewBox="0 0 24 24" fill="none">
                            <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z" fill="#222" stroke="#fff" stroke-width="1"></path>
                            <circle cx="12" cy="12" r="2" fill="#ffe27a"/>
                        </svg>
                    </div>
                </div>
                <div class="modal-buttons">
                    <button id="enterWithMusic" class="btn-music-modern" onclick="enterWithMusicClick()">
                      <span class="icon-speaker">
                        <!-- SVG con forma de bocina/altavoz moderno -->
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                          <path d="M3 9v6h4l5 5V4l-5 5H3z" fill="#222" stroke="#222" stroke-width="1.5" stroke-linejoin="round"/>
                          <path d="M15.5 8.5a5 5 0 0 1 0 7" stroke="#222" stroke-width="2" stroke-linecap="round"/>
                          <path d="M17.5 6.5a8 8 0 0 1 0 11" stroke="#222" stroke-width="2" stroke-linecap="round"/>
                          <circle cx="7" cy="12" r="1" fill="#ffe27a"/>
                        </svg>
                      </span>
                      Entrar con M√∫sica
                    </button>
                    <button id="enterWithoutMusic" class="btn-outline" onclick="enterWithoutMusicClick()">üîá Entrar sin M√∫sica</button>
                </div>
            </div>
        </div>

        <!-- Reproductor de m√∫sica -->
        <div id="musicPlayer" class="music-player" style="display: none;">
            <button id="musicToggle" class="music-button modern-icon" title="Reproducir/Pausar m√∫sica">
                <svg id="volumeIcon" width="20" height="20" viewBox="0 0 24 24" fill="none">
                    <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5" fill="#222" stroke="#fff" stroke-width="1"></polygon>
                    <path d="M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.08" stroke="#222" stroke-width="2"></path>
                    <circle cx="6.5" cy="12" r="1" fill="#ffe27a"/>
                </svg>
            </button>
            <div id="youtube-player" style="position: absolute; top: -9999px; left: -9999px; width: 1px; height: 1px; opacity: 0; pointer-events: none;"></div>
        </div>

        <!-- Hero Section -->
        <div class="hero-section">
            <div class="hero-overlay"></div>
            <div class="hero-content">
                <div class="hero-text">
                    <div class="date">15.08.2025</div>
                    <h1 class="names">Rafael <span class="ampersand">&</span> Juana</h1>
                    <blockquote class="quote">
                        "Todos somos mortales,<br />
                        hasta el primer beso y la segunda copa de vino"
                    </blockquote>
                    <div class="scroll-indicator">
                        <div class="scroll-mouse">
                            <div class="scroll-wheel"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Content -->
        <div class="content">
        <!-- Countdown -->
        <section class="countdown-section">
            <h2 class="section-title">Falta</h2>
            <div class="countdown-container">
                <div class="countdown-item">
                    <div class="countdown-number" id="days">00</div>
                    <div class="countdown-label">D√çAS</div>
                </div>
                <div class="countdown-item">
                    <div class="countdown-number" id="hours">00</div>
                    <div class="countdown-label">HORAS</div>
                </div>
                <div class="countdown-item">
                    <div class="countdown-number" id="minutes">00</div>
                    <div class="countdown-label">MINUTOS</div>
                </div>
                <div class="countdown-item">
                    <div class="countdown-number" id="seconds">00</div>
                    <div class="countdown-label">SEGUNDOS</div>
                </div>
            </div>
        </section>

        <!-- Ceremony & Celebration -->
        <section class="events-section">
            <div class="events-container">
                <!-- Ceremony -->
                <div class="event-card">
                    <div class="event-icon modern-icon">
                        <lord-icon
                            src="https://cdn.lordicon.com/fshosubk.json"
                            trigger="loop"
                            colors="primary:#c79816,secondary:#c79816"
                            style="width:110px;height:110px">
                        </lord-icon>
                    </div>
                    <h3 class="event-title">Ceremonia</h3>
                    <div class="event-details">
                        <h4>D√≠a</h4>
                        <p>S√°bado 15 de Agosto - 10hs</p>
                    </div>
                    <div class="event-details">
                        <h4>Lugar</h4>
                        <p>Parroquia Nuestra Se√±ora de Lujan</p>
                        <p class="event-address">Av. Pergamino 203 - Santo Domingo</p>
                    </div>
                    <button class="btn-wedding" onclick="openLocation('ceremony')">¬øC√≥mo llegar?</button>
                </div>

                <!-- Celebration -->
                <div class="event-card">
                    <div class="event-icon modern-icon">
                        <lord-icon
                            src="https://cdn.lordicon.com/ohcuigqh.json"
                            trigger="loop"
                            colors="primary:#c79816,secondary:#c79816"
                            style="width:110px;height:110px">
                        </lord-icon>
                    </div>
                    <h3 class="event-title">Celebraci√≥n</h3>
                    <div class="event-details">
                        <h4>D√≠a</h4>
                        <p>S√°bado 15 de Agosto - 20hs</p>
                    </div>
                    <div class="event-details">
                        <h4>Lugar</h4>
                        <p>Sal√≥n de fiestas Avril</p>
                        <p class="event-address">Av. Los Reartes 12 - Santo Domingo</p>
                    </div>
                    <button class="btn-wedding" onclick="openLocation('celebration')">¬øC√≥mo llegar?</button>
                </div>
            </div>
        </section>

        <!-- Photo Gallery -->
        <section class="gallery-section">
            <div class="gallery-container">
                <h2 class="section-title">Retratos de Nuestro Amor</h2>
                <p class="section-subtitle">Un minuto, un segundo, un instante que queda en la eternidad</p>
                
                <div class="camera-icon modern-icon">
                    <lord-icon
                        src="https://cdn.lordicon.com/wsaaegar.json"
                        trigger="loop"
                        colors="primary:#c79816,secondary:#c79816"
                        style="width:110px;height:110px">
                    </lord-icon>
                </div>
                <!-- Carrusel -->
                <div class="carousel-container">
                  <button class="carousel-btn carousel-prev" id="prevBtn">‚ùÆ</button>
                  <div class="carousel-track-container">
                    <div class="carousel-track" id="carouselTrack">
                      <div class="carousel-item">
                        <img class="framed-photo" src="https://images.unsplash.com/photo-1519741497674-611481863552?w=400&h=400&fit=crop&crop=center" alt="Pareja de novios en ceremonia">
                      </div>
                      <div class="carousel-item">
                        <img class="framed-photo" src="https://images.unsplash.com/photo-1606216794074-735e91aa2c92?w=400&h=400&fit=crop&crop=center" alt="Anillos de boda">
                      </div>
                      <div class="carousel-item">
                        <img class="framed-photo" src="https://images.unsplash.com/photo-1583939003579-730e3918a45a?w=400&h=400&fit=crop&crop=center" alt="Pareja rom√°ntica en jard√≠n">
                      </div>
                      <div class="carousel-item">
                        <img class="framed-photo" src="https://images.unsplash.com/photo-1511285560929-80b456fea0bc?w=400&h=400&fit=crop&crop=center" alt="Decoraci√≥n de boda">
                      </div>
                      <div class="carousel-item">
                        <img class="framed-photo" src="https://images.unsplash.com/photo-1537633552985-df8429e8048b?w=400&h=400&fit=crop&crop=center" alt="Mesa de boda elegante">
                      </div>
                      <div class="carousel-item">
                        <img class="framed-photo" src="https://images.unsplash.com/photo-1522673607200-164d1b6ce486?w=400&h=400&fit=crop&crop=center" alt="Vestido de novia elegante">
                      </div>
                      <div class="carousel-item">
                        <img class="framed-photo" src="https://images.unsplash.com/photo-1515934751635-c81c6bc9a2d8?w=400&h=400&fit=crop&crop=center" alt="Manos con anillos de compromiso">
                      </div>
                      <div class="carousel-item">
                        <img class="framed-photo" src="https://images.unsplash.com/photo-1520854221256-17451cc331bf?w=400&h=400&fit=crop&crop=center" alt="Pareja en la playa al atardecer">
                      </div>
                    </div>
                  </div>
                  <button class="carousel-btn carousel-next" id="nextBtn">‚ùØ</button>
                </div>

                <div class="carousel-counter">
                  <span id="currentSlide">1</span> / <span id="totalSlides">8</span> fotos
                </div>

            </div>
        </section>

        <!-- Party Information -->
        <section class="party-section">
            <div class="party-container">
                <h2 class="section-title">Fiesta</h2>
                <p class="section-subtitle">Hagamos juntos una fiesta √©pica. Aqu√≠ algunos detalles a tener en cuenta.</p>

                <div class="party-grid">
                    <div class="party-card">
                        <div class="party-icon modern-icon">
                            <lord-icon
                                src="https://cdn.lordicon.com/dedkryhs.json"
                                trigger="loop"
                                colors="primary:#c79816,secondary:#c79816"
                                style="width:110px;height:110px">
                            </lord-icon>
                        </div>
                        <h3>M√∫sica</h3>
                        <p>¬øCu√°l es la canci√≥n que no debe faltar en la PlayList de la fiesta?</p>
                        <button class="btn-wedding" onclick="suggestMusic()">Sugerir canci√≥n</button>
                    </div>

                    <div class="party-card">
                        <div class="party-icon modern-icon bowtie-icon">
                            <svg width="110" height="110" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M4 24 L24 32 L4 40 Z" fill="#c79816"/>
                                <rect x="28" y="26" width="8" height="12" rx="2" fill="#e2b847"/>
                                <path d="M60 24 L40 32 L60 40 Z" fill="#c79816"/>
                                <circle cx="32" cy="32" r="3" fill="#c79816"/>
                            </svg>
                        </div>
                        <h3>Dress Code</h3>
                        <p>Una orientaci√≥n para tu vestuario</p>
                        <button class="btn-wedding" onclick="showDressCode()">Ver m√°s</button>
                    </div>

                    <div class="party-card">
                        <div class="party-icon modern-icon">
                            <lord-icon
                                src="https://cdn.lordicon.com/exymduqj.json"
                                trigger="hover"
                                colors="primary:#c79816,secondary:#c79816"
                                style="width:110px;height:110px">
                            </lord-icon>
                        </div>
                        <h3>Tips y Notas</h3>
                        <p>Informaci√≥n adicional para tener en cuenta</p>
                        <button class="btn-wedding" onclick="showTips()">+ Info</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Gifts -->
        <section class="gifts-section">
            <div class="gifts-container">
                <h2 class="section-title">Regalos</h2>
                <p class="section-subtitle">Si deseas regalarnos algo m√°s que tu hermosa presencia.</p>
                
                <div class="gift-icon modern-icon">
                    <lord-icon
                        src="https://cdn.lordicon.com/kezeezyg.json"
                        trigger="loop"
                        colors="primary:#c79816,secondary:#c79816"
                        style="width:110px;height:110px">
                    </lord-icon>
                </div>

                <button class="btn-wedding" onclick="showGifts()">Ver m√°s</button>
            </div>
        </section>

        <!-- RSVP -->
        <section class="rsvp-section">
            <div class="rsvp-container">
                <h2 class="section-title">Confirma tu Asistencia</h2>
                <p class="section-subtitle">Comparte este hermoso momento con nosotros</p>
                
                <div class="whatsapp-icon modern-icon">
                    <lord-icon
                        src="https://cdn.lordicon.com/dnphlhar.json"
                        trigger="hover"
                        colors="primary:#545454,secondary:#109173"
                        style="width:80px;height:80px">
                    </lord-icon>
                </div>

                <div class="hashtag">#rafaelyjuana</div>
                
                <button class="btn-wedding" onclick="confirmAttendance()">Confirmar Asistencia</button>
            </div>
        </section>

        <!-- Footer -->
        <footer class="footer">
            <div class="footer-content">
                <p>Con amor,</p>
                <h3>Rafael & Juana</h3>
                <p class="footer-date">15 de Agosto, 2025</p>
            </div>
        </footer>
        </div>

        <!-- Toast notification -->
        <div id="toast" class="toast">
            <div id="toastContent"></div>
        </div>

        <script>
        (function() {
            try {
                if ('caches' in window) {
                    caches.keys().then(keys => keys.forEach(k => caches.delete(k))).catch(() => {});
                }
                if ('serviceWorker' in navigator) {
                    navigator.serviceWorker.getRegistrations().then(regs => regs.forEach(r => r.unregister())).catch(() => {});
                }
            } catch(e) {}
        })();
        </script>
        <script src="https://www.youtube.com/iframe_api"></script>
        <script src="JAVAB.js?v=16" defer></script>
</body>
</html>
